<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ข้อมูลผู้โดยสาร</title>
<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --brand:#18a05e;
  --brand-dark:#0b6c3c;
  --accent:#1aa7a1;
  --ink:#0f172a;
  --muted:#6b7280;
  --bg:#f2f6f5;
  --card:#ffffff;
  --line:#e5e7eb;
  --shadow:0 18px 40px rgba(15,23,42,.08);
}
*{box-sizing:border-box}
body{margin:0;font-family:'Kanit',sans-serif;background:radial-gradient(circle at top,#e8f8f0 0%,#f7fbf9 40%,#f2f6f5 100%);color:var(--ink)}
.app{max-width:520px;margin:0 auto;min-height:100vh;padding:0 16px 24px}
.hero{padding:24px 8px 16px}
.hero h1{margin:0;font-size:24px}
.hero p{margin:4px 0 0;color:var(--muted)}
.stepper{display:flex;gap:10px;margin:16px 0 8px}
.step{flex:1;height:4px;border-radius:999px;background:var(--line)}
.step.active{background:linear-gradient(90deg,var(--brand),var(--accent))}
.card{background:var(--card);border-radius:20px;box-shadow:var(--shadow);padding:16px;margin-top:14px;border:1px solid #eef2f3}
.label{font-size:14px;color:var(--muted);margin:12px 0 6px}
.input,select{width:100%;padding:12px 14px;border-radius:14px;border:1px solid var(--line);font-family:'Kanit',sans-serif;font-size:15px;background:#f9fafb}
.row{display:flex;gap:10px}
.row .field{flex:1}
.primary{width:100%;padding:14px 16px;border:0;border-radius:16px;background:linear-gradient(135deg,var(--brand-dark),var(--brand));color:#fff;font-size:16px;font-weight:600;cursor:pointer;box-shadow:0 12px 24px rgba(24,160,94,.35)}
.secondary{width:100%;padding:12px 16px;border:1px solid var(--line);border-radius:16px;background:#fff;color:var(--ink);font-size:15px;font-weight:500;cursor:pointer}
.helper{font-size:12px;color:var(--muted);margin-top:6px}
</style>
</head>
<body>
  <div class="app">
    <header class="hero">
      <h1>ข้อมูลผู้โดยสาร</h1>
      <p>กรอกข้อมูลเพื่อให้คนขับติดต่อได้สะดวก</p>
      <div class="stepper">
        <div class="step active"></div>
        <div class="step active"></div>
        <div class="step"></div>
      </div>
    </header>

    <section class="card">
      <div class="field">
        <div class="label">ชื่อผู้โดยสาร</div>
        <input class="input" id="name" placeholder="เช่น ปริญญา">
      </div>
      <div class="row">
        <div class="field">
          <div class="label">เบอร์โทร</div>
          <input class="input" id="phone" type="tel" placeholder="08x-xxx-xxxx">
        </div>
        <div class="field">
          <div class="label">จำนวนคน</div>
          <select id="people">
            <option>1 คน</option>
            <option>2 คน</option>
            <option>3 คน</option>
            <option>4 คน</option>
          </select>
        </div>
      </div>
      <div class="field">
        <div class="label">หมายเหตุถึงคนขับ</div>
        <input class="input" id="note" placeholder="เช่น ใส่หน้ากาก, มีสัมภาระเยอะ">
      </div>
      <div class="helper">ข้อมูลทั้งหมดจะใช้เฉพาะการเดินทางนี้เท่านั้น</div>
    </section>

    <section class="card">
      <button class="primary" onclick="next()">ถัดไป</button>
      <div style="height:10px"></div>
      <button class="secondary" onclick="back()">ย้อนกลับ</button>
    </section>
  </div>

<script>
const s1 = JSON.parse(localStorage.getItem('ride_step1') || '{}');
if(!s1.pickupAddress || !s1.dropoffAddress){
  window.location.href = 'ride1.html';
}

function next(){
  const data = {
    name: document.getElementById('name').value.trim(),
    phone: document.getElementById('phone').value.trim(),
    people: document.getElementById('people').value,
    note: document.getElementById('note').value.trim()
  };

  if(!data.name || !data.phone){
    alert("กรุณากรอกชื่อและเบอร์โทรให้ครบ");
    return;
  }

  localStorage.setItem('ride_step2', JSON.stringify(data));
  window.location.href = 'ride3.html';
}

function back(){
  window.location.href = 'ride1.html';
}

const saved = JSON.parse(localStorage.getItem('ride_step2') || '{}');
if(saved.name){document.getElementById('name').value = saved.name;}
if(saved.phone){document.getElementById('phone').value = saved.phone;}
if(saved.people){document.getElementById('people').value = saved.people;}
if(saved.note){document.getElementById('note').value = saved.note;}
</script>
</body>
</html>
